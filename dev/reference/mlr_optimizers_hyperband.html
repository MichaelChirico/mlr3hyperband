<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Optimizer using the Hyperband algorithm — mlr_optimizers_hyperband • mlr3hyperband</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<link href="../extra.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Optimizer using the Hyperband algorithm — mlr_optimizers_hyperband" />
<meta property="og:description" content="OptimizerHyperband class that implements hyperband optimization. Hyperband
is a budget oriented-procedure, weeding out suboptimal performing
configurations early in a sequential training process, increasing
optimization efficiency as a consequence.
For this, several brackets are constructed with an associated set of
configurations for each bracket. Each bracket as several stages. Different
brackets are initialized with different amounts of configurations and
different budget sizes. To get an idea of how the bracket layout looks like
for a given argument set, please have a look in the details.
To identify the budget for evaluating hyperband, the user has to specify
explicitly which parameter of the objective function influences the budget by
tagging a single parameter in the paradox::ParamSet with &quot;budget&quot;.
Naturally, hyperband terminates once all of its brackets are evaluated, so a
bbotk::Terminator in the OptimInstanceSingleCrit |
OptimInstanceMultiCrit acts as an upper bound and should be only set to a
low value if one is unsure of how long hyperband will take to finish under
the given settings." />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org" /></a>
        <a class="navbar-brand" href="../index.html">mlr3hyperband <small>v0.1.2.9000</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">
    <span class="fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://mlr3book.mlr-org.com">
    <span class="fa fa-link"></span>
     
    mlr3book
  </a>
</li>
        <li>
  <a href="https://github.com/mlr-org/mlr3hyperband/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa-comments"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Optimizer using the Hyperband algorithm</h1>
    <small class="dont-index">Source: <a href='https://github.com/mlr-org/mlr3hyperband/blob/master/R/OptimizerHyperband.R'><code>R/OptimizerHyperband.R</code></a></small>
    <div class="hidden name"><code>mlr_optimizers_hyperband.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>OptimizerHyperband</code> class that implements hyperband optimization. Hyperband
is a budget oriented-procedure, weeding out suboptimal performing
configurations early in a sequential training process, increasing
optimization efficiency as a consequence.</p>
<p>For this, several brackets are constructed with an associated set of
configurations for each bracket. Each bracket as several stages. Different
brackets are initialized with different amounts of configurations and
different budget sizes. To get an idea of how the bracket layout looks like
for a given argument set, please have a look in the <code>details</code>.</p>
<p>To identify the budget for evaluating hyperband, the user has to specify
explicitly which parameter of the objective function influences the budget by
tagging a single parameter in the <a href='https://paradox.mlr-org.com/reference/ParamSet.html'>paradox::ParamSet</a> with <code>"budget"</code>.</p>
<p>Naturally, hyperband terminates once all of its brackets are evaluated, so a
<a href='https://bbotk.mlr-org.com/reference/Terminator.html'>bbotk::Terminator</a> in the OptimInstanceSingleCrit |
OptimInstanceMultiCrit acts as an upper bound and should be only set to a
low value if one is unsure of how long hyperband will take to finish under
the given settings.</p>
    </div>



    <h2 class="hasAnchor" id="source"><a class="anchor" href="#source"></a>Source</h2>

    <p>Li L, Jamieson K, DeSalvo G, Rostamizadeh A, Talwalkar A (2018).
&#8220;Hyperband: A Novel Bandit-Based Approach to Hyperparameter Optimization.&#8221;
<em>Journal of Machine Learning Research</em>, <b>18</b>(185), 1-52.
<a href='https://jmlr.org/papers/v18/16-558.html'>https://jmlr.org/papers/v18/16-558.html</a>.</p>
    <h2 class="hasAnchor" id="dictionary"><a class="anchor" href="#dictionary"></a>Dictionary</h2>

    

<p>This <a href='https://bbotk.mlr-org.com/reference/Optimizer.html'>Optimizer</a> can be instantiated via the <a href='https://mlr3misc.mlr-org.com/reference/Dictionary.html'>dictionary</a>
<a href='https://bbotk.mlr-org.com/reference/mlr_optimizers.html'>mlr_optimizers</a> or with the associated sugar function <code><a href='https://bbotk.mlr-org.com/reference/opt.html'>opt()</a></code>:</p><pre><span class='va'>mlr_optimizers</span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span><span class='st'>"hyperband"</span><span class='op'>)</span>
<span class='fu'><a href='https://bbotk.mlr-org.com/reference/opt.html'>opt</a></span><span class='op'>(</span><span class='st'>"hyperband"</span><span class='op'>)</span>
</pre>

    <h2 class="hasAnchor" id="parameters"><a class="anchor" href="#parameters"></a>Parameters</h2>

    

<dl>
<dt><code>eta</code></dt><dd><p><code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code><br />
Fraction parameter of the successive halving algorithm: With every step the
configuration budget is increased by a factor of <code>eta</code> and only the best
<code>1/eta</code> configurations are used for the next stage. Non-integer values are
supported, but <code>eta</code> is not allowed to be less or equal 1.</p></dd>
<dt><code>sampler</code></dt><dd><p><a href='https://paradox.mlr-org.com/reference/Sampler.html'>paradox::Sampler</a><br />
Object defining how the samples of the parameter space should be drawn during
the initialization of each bracket. The default is uniform sampling.</p></dd>

</dl>

    <h2 class="hasAnchor" id="archive"><a class="anchor" href="#archive"></a>Archive</h2>

    

<p>The <a href='https://bbotk.mlr-org.com/reference/Archive.html'>bbotk::Archive</a> holds the following additional columns that
are specific to the hyperband tuner:</p><ul>
<li><p><code>bracket</code> (<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code>)<br />
The console logs about the bracket index are actually not matching with
the original hyperband algorithm, which counts down the brackets and
stops after evaluating bracket 0. The true bracket indices are given in
this column.</p></li>
<li><p><code>bracket_stage</code> (<code>integer(1))</code><br />
The bracket stage of each bracket. Hyperband starts counting at 0.</p></li>
<li><p><code>budget_scaled</code> (<code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code>)<br />
The intermediate budget in each bracket stage calculated by hyperband.
Because hyperband is originally only considered for budgets starting at
1, some rescaling is done to allow budgets starting at different values.
For this, budgets are internally divided by the lower budget bound to get
a lower budget of 1. Before the objective function receives its budgets
for evaluation, the budget is transformed back to match the original
scale again.</p></li>
<li><p><code>budget_real</code> (<code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code>)<br />
The real budget values the objective function uses for evaluation after
hyperband calculated its scaled budget.</p></li>
<li><p><code>n_configs</code> (<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code>)<br />
The amount of evaluated configurations in each stage. These correspond to
the <code>r_i</code> in the original paper.</p></li>
</ul>

    <h2 class="hasAnchor" id="custom-sampler"><a class="anchor" href="#custom-sampler"></a>Custom sampler</h2>

    

<p>Hyperband supports custom <a href='https://paradox.mlr-org.com/reference/Sampler.html'>paradox::Sampler</a> object for initial
configurations in each bracket.
A custom sampler may look like this (the full example is given in the
<em>examples</em> section):</p><pre><span class='co'># - beta distribution with alpha = 2 and beta = 5</span>
<span class='co'># - categorical distribution with custom probabilities</span>
<span class='va'>sampler</span> <span class='op'>=</span> <span class='va'>SamplerJointIndep</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='va'>Sampler1DRfun</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='va'>params</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/stats/Beta.html'>rbeta</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>2</span>, <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>,
  <span class='va'>Sampler1DCateg</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='va'>params</span><span class='op'>[[</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>]</span>, prob <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.3</span>, <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span><span class='op'>)</span>
</pre>

    <h2 class="hasAnchor" id="runtime"><a class="anchor" href="#runtime"></a>Runtime</h2>

    

<p>The calculation of each bracket currently assumes a linear runtime in the
chosen budget parameter is always given. Hyperband is designed so each
bracket requires approximately the same runtime as the sum of the budget
over all configurations in each bracket is roughly the same. This will not
hold true once the scaling in the budget parameter is not linear
anymore, even though the sum of the budgets in each bracket remains the
same. A possible adaption would be to introduce a trafo, like it is shown in
the <em>examples</em> section.</p>
    <h2 class="hasAnchor" id="progress-bars"><a class="anchor" href="#progress-bars"></a>Progress Bars</h2>

    

<p><code>$optimize()</code> supports progress bars via the package <a href='https://CRAN.R-project.org/package=progressr'><span class="pkg">progressr</span></a>
combined with a <a href='https://bbotk.mlr-org.com/reference/Terminator.html'>Terminator</a>. Simply wrap the function in
<code>progressr::with_progress()</code> to enable them. We recommend to use package
<a href='https://CRAN.R-project.org/package=progress'><span class="pkg">progress</span></a> as backend; enable with <code>progressr::handlers("progress")</code>.</p>
    <h2 class="hasAnchor" id="parallelization"><a class="anchor" href="#parallelization"></a>Parallelization</h2>

    

<p>In order to support general termination criteria and parallelization, we
evaluate points in a batch-fashion of size <code>batch_size</code>. The points of one
stage in a bracket are evaluated in one batch. Parallelization is supported
via package <a href='https://CRAN.R-project.org/package=future'><span class="pkg">future</span></a> (see <code><a href='https://mlr3.mlr-org.com/reference/benchmark.html'>mlr3::benchmark()</a></code>'s section on
parallelization for more details).</p>
    <h2 class="hasAnchor" id="logging"><a class="anchor" href="#logging"></a>Logging</h2>

    

<p>Hyperband uses a logger (as implemented in <a href='https://CRAN.R-project.org/package=lgr'><span class="pkg">lgr</span></a>) from package
<a href='https://CRAN.R-project.org/package=bbotk'><span class="pkg">bbotk</span></a>.
Use <code><a href='https://s-fleck.github.io/lgr/reference/get_logger.html'>lgr::get_logger("bbotk")</a></code> to access and control the logger.</p>
    <h2 class="hasAnchor" id="super-class"><a class="anchor" href="#super-class"></a>Super class</h2>

    <p><code><a href='https://bbotk.mlr-org.com/reference/Optimizer.html'>bbotk::Optimizer</a></code> -&gt; <code>OptimizerHyperband</code></p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Public methods</h3>

<ul>
<li><p><a href='#method-new'><code>OptimizerHyperband$new()</code></a></p></li>
<li><p><a href='#method-clone'><code>OptimizerHyperband$clone()</code></a></p></li>
</ul>
<p><details open ><summary>Inherited methods</summary>
<ul>
<li><p><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="format"><a href='../../bbotk/html/Optimizer.html#method-format'><code>bbotk::Optimizer$format()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="optimize"><a href='../../bbotk/html/Optimizer.html#method-optimize'><code>bbotk::Optimizer$optimize()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="bbotk" data-topic="Optimizer" data-id="print"><a href='../../bbotk/html/Optimizer.html#method-print'><code>bbotk::Optimizer$print()</code></a></span></p></li>
</ul>
</details>

<hr>
<a id="method-new"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>new()</code></h3>
<p>Creates a new instance of this <a href='https://r6.r-lib.org/reference/R6Class.html'>R6</a> class.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>OptimizerHyperband</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-clone"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>OptimizerHyperband</span><span class='op'>$</span><span class='fu'>clone</span><span class='op'>(</span>deep <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://bbotk.mlr-org.com'>bbotk</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-datatable.com'>data.table</a></span><span class='op'>)</span>

<span class='va'>search_space</span> <span class='op'>=</span> <span class='va'>domain</span> <span class='op'>=</span> <span class='fu'>ps</span><span class='op'>(</span>
  x1 <span class='op'>=</span> <span class='fu'>p_dbl</span><span class='op'>(</span><span class='op'>-</span><span class='fl'>5</span>, <span class='fl'>10</span><span class='op'>)</span>, 
  x2 <span class='op'>=</span> <span class='fu'>p_dbl</span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>15</span><span class='op'>)</span>, 
  fidelity <span class='op'>=</span> <span class='fu'>p_dbl</span><span class='op'>(</span><span class='fl'>1e-2</span>, <span class='fl'>1</span>, tags <span class='op'>=</span> <span class='st'>"budget"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='co'># modified branin function</span>
<span class='va'>objective</span> <span class='op'>=</span> <span class='va'><a href='https://bbotk.mlr-org.com/reference/ObjectiveRFunDt.html'>ObjectiveRFunDt</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  fun <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>xdt</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>a</span> <span class='op'>=</span> <span class='fl'>1</span>
    <span class='va'>b</span> <span class='op'>=</span> <span class='fl'>5.1</span> <span class='op'>/</span> <span class='op'>(</span><span class='fl'>4</span> <span class='op'>*</span> <span class='op'>(</span><span class='va'>pi</span> <span class='op'>^</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
    <span class='va'>c</span> <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>/</span> <span class='va'>pi</span>
    <span class='va'>r</span> <span class='op'>=</span> <span class='fl'>6</span>
    <span class='va'>s</span> <span class='op'>=</span> <span class='fl'>10</span>
    <span class='va'>t</span> <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>/</span> <span class='op'>(</span><span class='fl'>8</span> <span class='op'>*</span> <span class='va'>pi</span><span class='op'>)</span>
    <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>y <span class='op'>=</span> 
      <span class='op'>(</span><span class='va'>a</span> <span class='op'>*</span> <span class='op'>(</span><span class='op'>(</span><span class='va'>xdt</span><span class='op'>[[</span><span class='st'>"x2"</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>-</span> 
      <span class='va'>b</span> <span class='op'>*</span> <span class='op'>(</span><span class='va'>xdt</span><span class='op'>[[</span><span class='st'>"x1"</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>^</span> <span class='fl'>2L</span><span class='op'>)</span> <span class='op'>+</span> 
      <span class='va'>c</span> <span class='op'>*</span> <span class='va'>xdt</span><span class='op'>[[</span><span class='st'>"x1"</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>-</span> <span class='va'>r</span><span class='op'>)</span> <span class='op'>^</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span> 
      <span class='op'>(</span><span class='op'>(</span><span class='va'>s</span> <span class='op'>*</span> <span class='op'>(</span><span class='fl'>1</span> <span class='op'>-</span> <span class='va'>t</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/Trig.html'>cos</a></span><span class='op'>(</span><span class='va'>xdt</span><span class='op'>[[</span><span class='st'>"x1"</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
      <span class='va'>s</span> <span class='op'>-</span> <span class='op'>(</span><span class='fl'>5</span> <span class='op'>*</span> <span class='va'>xdt</span><span class='op'>[[</span><span class='st'>"fidelity"</span><span class='op'>]</span><span class='op'>]</span> <span class='op'>*</span> <span class='va'>xdt</span><span class='op'>[[</span><span class='st'>"x1"</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>}</span>,
  domain <span class='op'>=</span> <span class='va'>domain</span>,
  codomain <span class='op'>=</span> <span class='fu'>ps</span><span class='op'>(</span>y <span class='op'>=</span> <span class='fu'>p_dbl</span><span class='op'>(</span>tags <span class='op'>=</span> <span class='st'>"minimize"</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>instance</span> <span class='op'>=</span> <span class='va'><a href='https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html'>OptimInstanceSingleCrit</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>
  objective <span class='op'>=</span> <span class='va'>objective</span>,
  search_space <span class='op'>=</span> <span class='va'>search_space</span>,
  terminator <span class='op'>=</span> <span class='fu'><a href='https://bbotk.mlr-org.com/reference/trm.html'>trm</a></span><span class='op'>(</span><span class='st'>"none"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>optimizer</span> <span class='op'>=</span> <span class='fu'><a href='https://bbotk.mlr-org.com/reference/opt.html'>opt</a></span><span class='op'>(</span><span class='st'>"hyperband"</span><span class='op'>)</span>

<span class='co'># modifies the instance by reference</span>
<span class='va'>optimizer</span><span class='op'>$</span><span class='fu'>optimize</span><span class='op'>(</span><span class='va'>instance</span><span class='op'>)</span>
</div><div class='output co'>#&gt;          x1       x2 fidelity  x_domain         y
#&gt; 1: 9.633218 4.350752        1 &lt;list[3]&gt; -44.68965</div><div class='input'>
<span class='co'># best scoring evaluation</span>
<span class='va'>instance</span><span class='op'>$</span><span class='va'>result</span>
</div><div class='output co'>#&gt;          x1       x2 fidelity  x_domain         y
#&gt; 1: 9.633218 4.350752        1 &lt;list[3]&gt; -44.68965</div><div class='input'>
<span class='co'># all evaluations</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html'>as.data.table</a></span><span class='op'>(</span><span class='va'>instance</span><span class='op'>$</span><span class='va'>archive</span><span class='op'>)</span>
</div><div class='output co'>#&gt;              x1        x2 fidelity bracket bracket_stage budget_scaled
#&gt;   1: -3.7887479  8.943942 0.015625       6             0        1.5625
#&gt;   2:  7.5149956  2.872770 0.015625       6             0        1.5625
#&gt;   3:  4.0114133 14.216459 0.015625       6             0        1.5625
#&gt;   4: -2.6418734  8.137206 0.015625       6             0        1.5625
#&gt;   5: -4.8890084  8.169051 0.015625       6             0        1.5625
#&gt;  ---                                                                  
#&gt; 297:  0.4116634 11.789267 1.000000       0             0      100.0000
#&gt; 298: -2.4440674 12.379618 1.000000       0             0      100.0000
#&gt; 299:  6.7471101 14.478606 1.000000       0             0      100.0000
#&gt; 300: -4.5361416  5.679618 1.000000       0             0      100.0000
#&gt; 301:  6.8413054  2.615795 1.000000       0             0      100.0000
#&gt;      budget_real n_configs         y           timestamp batch_nr
#&gt;   1:    0.015625        64  27.04327 2021-08-14 04:19:22        1
#&gt;   2:    0.015625        64  14.96993 2021-08-14 04:19:22        1
#&gt;   3:    0.015625        64 160.29551 2021-08-14 04:19:22        1
#&gt;   4:    0.015625        64  10.59406 2021-08-14 04:19:22        1
#&gt;   5:    0.015625        64  87.75677 2021-08-14 04:19:22        1
#&gt;  ---                                                             
#&gt; 297:    1.000000         7  57.99085 2021-08-14 04:19:23       28
#&gt; 298:    1.000000         7  17.81277 2021-08-14 04:19:23       28
#&gt; 299:    1.000000         7 162.70148 2021-08-14 04:19:23       28
#&gt; 300:    1.000000         7 134.99736 2021-08-14 04:19:23       28
#&gt; 301:    1.000000         7 -13.93637 2021-08-14 04:19:23       28</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marc Becker, Sebastian Gruber, Jakob Richter, Julia Moosbauer, Bernd Bischl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


